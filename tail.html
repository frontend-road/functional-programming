<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>尾递归</title>
</head>
<body>
<script>
  function fibonacci1(n) {
    if (n === 1) return 0
    if (n === 2) return 1
    return fibonacci1(n - 2) + fibonacci1(n - 1)
  }

  function fibonacci2(n, ret1, ret2) {
    if (n === 1) return ret1
    return fibonacci2(n - 1, ret2, ret1 + ret2)
  }

  console.time('fibonacci1')
  console.log(fibonacci1(40)) // 63245986
  console.timeEnd('fibonacci1') // 785.040283203125ms

  // 尾递归快就快在它不需要重复计算某一项，利用了一种技巧就是每次递归调用时，它会把之前已经计算好的结果以参数的形式传递过去
  console.time('fibonacci2')
  console.log(fibonacci2(40, 0, 1)) // 63245986
  console.timeEnd('fibonacci2') // 0.1318359375ms
</script>
</body>
</html>